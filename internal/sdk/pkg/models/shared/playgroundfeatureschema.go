// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"errors"
	"fmt"
	"terraform/internal/sdk/pkg/utils"
)

// PlaygroundFeatureSchema2 - The cumulative results of all the feature's strategies. Can be `true`,
//
//	`false`, or `unknown`.
//	This property will only be `unknown`
//	if one or more of the strategies can't be fully evaluated and the rest of the strategies
//	all resolve to `false`.
type PlaygroundFeatureSchema2 string

const (
	PlaygroundFeatureSchema2Unknown PlaygroundFeatureSchema2 = "unknown"
)

func (e PlaygroundFeatureSchema2) ToPointer() *PlaygroundFeatureSchema2 {
	return &e
}

func (e *PlaygroundFeatureSchema2) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "unknown":
		*e = PlaygroundFeatureSchema2(v)
		return nil
	default:
		return fmt.Errorf("invalid value for PlaygroundFeatureSchema2: %v", v)
	}
}

type PlaygroundFeatureSchemaResultType string

const (
	PlaygroundFeatureSchemaResultTypeBoolean                  PlaygroundFeatureSchemaResultType = "boolean"
	PlaygroundFeatureSchemaResultTypePlaygroundFeatureSchema2 PlaygroundFeatureSchemaResultType = "playgroundFeatureSchema_2"
)

type PlaygroundFeatureSchemaResult struct {
	Boolean                  *bool
	PlaygroundFeatureSchema2 *PlaygroundFeatureSchema2

	Type PlaygroundFeatureSchemaResultType
}

func CreatePlaygroundFeatureSchemaResultBoolean(boolean bool) PlaygroundFeatureSchemaResult {
	typ := PlaygroundFeatureSchemaResultTypeBoolean

	return PlaygroundFeatureSchemaResult{
		Boolean: &boolean,
		Type:    typ,
	}
}

func CreatePlaygroundFeatureSchemaResultPlaygroundFeatureSchema2(playgroundFeatureSchema2 PlaygroundFeatureSchema2) PlaygroundFeatureSchemaResult {
	typ := PlaygroundFeatureSchemaResultTypePlaygroundFeatureSchema2

	return PlaygroundFeatureSchemaResult{
		PlaygroundFeatureSchema2: &playgroundFeatureSchema2,
		Type:                     typ,
	}
}

func (u *PlaygroundFeatureSchemaResult) UnmarshalJSON(data []byte) error {

	boolean := new(bool)
	if err := utils.UnmarshalJSON(data, &boolean, "", true, true); err == nil {
		u.Boolean = boolean
		u.Type = PlaygroundFeatureSchemaResultTypeBoolean
		return nil
	}

	playgroundFeatureSchema2 := new(PlaygroundFeatureSchema2)
	if err := utils.UnmarshalJSON(data, &playgroundFeatureSchema2, "", true, true); err == nil {
		u.PlaygroundFeatureSchema2 = playgroundFeatureSchema2
		u.Type = PlaygroundFeatureSchemaResultTypePlaygroundFeatureSchema2
		return nil
	}

	return errors.New("could not unmarshal into supported union types")
}

func (u PlaygroundFeatureSchemaResult) MarshalJSON() ([]byte, error) {
	if u.Boolean != nil {
		return utils.MarshalJSON(u.Boolean, "", true)
	}

	if u.PlaygroundFeatureSchema2 != nil {
		return utils.MarshalJSON(u.PlaygroundFeatureSchema2, "", true)
	}

	return nil, errors.New("could not marshal union type: all fields are null")
}

// PlaygroundFeatureSchemaStrategies - The feature's applicable strategies and cumulative results of the strategies
type PlaygroundFeatureSchemaStrategies struct {
	// The strategies that apply to this feature.
	Data []PlaygroundStrategySchema `json:"data"`
	// The cumulative results of all the feature's strategies. Can be `true`,
	//                                   `false`, or `unknown`.
	//                                   This property will only be `unknown`
	//                                   if one or more of the strategies can't be fully evaluated and the rest of the strategies
	//                                   all resolve to `false`.
	Result PlaygroundFeatureSchemaResult `json:"result"`
}

func (o *PlaygroundFeatureSchemaStrategies) GetData() []PlaygroundStrategySchema {
	if o == nil {
		return []PlaygroundStrategySchema{}
	}
	return o.Data
}

func (o *PlaygroundFeatureSchemaStrategies) GetResult() PlaygroundFeatureSchemaResult {
	if o == nil {
		return PlaygroundFeatureSchemaResult{}
	}
	return o.Result
}

// PlaygroundFeatureSchemaPayload - An optional payload attached to the variant.
type PlaygroundFeatureSchemaPayload struct {
	// The format of the payload.
	Type string `json:"type"`
	// The payload value stringified.
	Value string `json:"value"`
}

func (o *PlaygroundFeatureSchemaPayload) GetType() string {
	if o == nil {
		return ""
	}
	return o.Type
}

func (o *PlaygroundFeatureSchemaPayload) GetValue() string {
	if o == nil {
		return ""
	}
	return o.Value
}

// PlaygroundFeatureSchemaVariant - The feature variant you receive based on the provided context or the _disabled
//
//	variant_. If a feature is disabled or doesn't have any
//	variants, you would get the _disabled variant_.
//	Otherwise, you'll get one of thefeature's defined variants.
type PlaygroundFeatureSchemaVariant struct {
	// Whether the variant is enabled or not. If the feature is disabled or if it doesn't have variants, this property will be `false`
	Enabled bool `json:"enabled"`
	// The variant's name. If there is no variant or if the toggle is disabled, this will be `disabled`
	Name string `json:"name"`
	// An optional payload attached to the variant.
	Payload *PlaygroundFeatureSchemaPayload `json:"payload,omitempty"`
}

func (o *PlaygroundFeatureSchemaVariant) GetEnabled() bool {
	if o == nil {
		return false
	}
	return o.Enabled
}

func (o *PlaygroundFeatureSchemaVariant) GetName() string {
	if o == nil {
		return ""
	}
	return o.Name
}

func (o *PlaygroundFeatureSchemaVariant) GetPayload() *PlaygroundFeatureSchemaPayload {
	if o == nil {
		return nil
	}
	return o.Payload
}

// PlaygroundFeatureSchema - A simplified feature toggle model intended for the Unleash playground.
type PlaygroundFeatureSchema struct {
	// Whether this feature is enabled or not in the current environment.
	//                           If a feature can't be fully evaluated (that is, `strategies.result` is `unknown`),
	//                           this will be `false` to align with how client SDKs treat unresolved feature states.
	IsEnabled bool `json:"isEnabled"`
	// Whether the feature is active and would be evaluated in the provided environment in a normal SDK context.
	IsEnabledInCurrentEnvironment bool `json:"isEnabledInCurrentEnvironment"`
	// The feature's name.
	Name string `json:"name"`
	// The ID of the project that contains this feature.
	ProjectID string `json:"projectId"`
	// The feature's applicable strategies and cumulative results of the strategies
	Strategies PlaygroundFeatureSchemaStrategies `json:"strategies"`
	// The feature variant you receive based on the provided context or the _disabled
	//                           variant_. If a feature is disabled or doesn't have any
	//                           variants, you would get the _disabled variant_.
	//                           Otherwise, you'll get one of thefeature's defined variants.
	Variant *PlaygroundFeatureSchemaVariant `json:"variant"`
	// The feature variants.
	Variants []VariantSchema `json:"variants"`
}

func (o *PlaygroundFeatureSchema) GetIsEnabled() bool {
	if o == nil {
		return false
	}
	return o.IsEnabled
}

func (o *PlaygroundFeatureSchema) GetIsEnabledInCurrentEnvironment() bool {
	if o == nil {
		return false
	}
	return o.IsEnabledInCurrentEnvironment
}

func (o *PlaygroundFeatureSchema) GetName() string {
	if o == nil {
		return ""
	}
	return o.Name
}

func (o *PlaygroundFeatureSchema) GetProjectID() string {
	if o == nil {
		return ""
	}
	return o.ProjectID
}

func (o *PlaygroundFeatureSchema) GetStrategies() PlaygroundFeatureSchemaStrategies {
	if o == nil {
		return PlaygroundFeatureSchemaStrategies{}
	}
	return o.Strategies
}

func (o *PlaygroundFeatureSchema) GetVariant() *PlaygroundFeatureSchemaVariant {
	if o == nil {
		return nil
	}
	return o.Variant
}

func (o *PlaygroundFeatureSchema) GetVariants() []VariantSchema {
	if o == nil {
		return []VariantSchema{}
	}
	return o.Variants
}
